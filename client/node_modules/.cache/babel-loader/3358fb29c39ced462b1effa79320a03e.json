{"ast":null,"code":"var _jsxFileName = \"/Users/ofirshlomo/Desktop/\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD/vacationProject/client/src/pages/LoginPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { Actions } from '../store';\nimport { Form, Input, Button } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LoginPage() {\n  _s();\n\n  const [form, setForm] = useState({}); // hook get store.dispatch method\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const onSubmit = async event => {\n    event.preventDefault();\n    const res = await fetch('/api/login', {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify(form)\n    });\n\n    if (!res.ok) {\n      //handle error\n      return;\n    }\n\n    const body = await res.json();\n    console.log(body);\n    dispatch(Actions.user.set(body));\n    history.push('/');\n  };\n\n  const onChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setForm({ ...form,\n      [name]: value\n    });\n  };\n\n  const layout = {\n    labelCol: {\n      span: 8\n    },\n    wrapperCol: {\n      span: 16\n    }\n  };\n  const tailLayout = {\n    wrapperCol: {\n      offset: 8,\n      span: 16\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onChange: onChange,\n    onSubmit: onSubmit,\n    ...layout,\n    children: [\"name=\\\"normal_login\\\" className=\\\"login-form\\\" initialValues=\", {\n      remember: true\n    }, \"onFinish=\", onFinish, \">\", /*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"username\",\n      rules: [{\n        required: true,\n        message: 'Please input your Username!'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {\n          className: \"site-form-item-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 24\n        }, this),\n        placeholder: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"password\",\n      rules: [{\n        required: true,\n        message: 'Please input your Password!'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n          className: \"site-form-item-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 19\n        }, this),\n        type: \"password\",\n        placeholder: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"remember\",\n        valuePropName: \"checked\",\n        noStyle: true,\n        children: /*#__PURE__*/_jsxDEV(Checkbox, {\n          children: \"Remember me\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"login-form-forgot\",\n        href: \"\",\n        children: \"Forgot password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        className: \"login-form-button\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), \"Or \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"\",\n        children: \"register now!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 3\n  }, this);\n}\n\n_s(LoginPage, \"Fa5yLLcKBER4NOjDrsqD3oGdVs4=\", false, function () {\n  return [useDispatch, useHistory];\n});\n\n_c = LoginPage;\nexport default LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["/Users/ofirshlomo/Desktop/לימודים/vacationProject/client/src/pages/LoginPage.js"],"names":["useState","useDispatch","useHistory","Actions","Form","Input","Button","UserOutlined","LockOutlined","LoginPage","form","setForm","dispatch","history","onSubmit","event","preventDefault","res","fetch","headers","method","body","JSON","stringify","ok","json","console","log","user","set","push","onChange","name","value","target","layout","labelCol","span","wrapperCol","tailLayout","offset","remember","onFinish","required","message"],"mappings":"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","sourcesContent":["import { useState } from 'react';\n\nimport { useDispatch } from 'react-redux';\n\nimport { useHistory } from 'react-router-dom';\n\nimport { Actions } from '../store';\n\n\nimport { Form, Input, Button } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\n\n\n\n\nfunction LoginPage() {\n\tconst [form, setForm] = useState({});\n\n\t// hook get store.dispatch method\n\tconst dispatch = useDispatch();\n\n\tconst history = useHistory();\n\n\tconst onSubmit = async event => {\n\t\tevent.preventDefault();\n\t\tconst res = await fetch('/api/login', {\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify(form),\n\t\t});\n\t\tif (!res.ok) {\n\t\t\t//handle error\n\t\t\treturn;\n\t\t}\n\t\tconst body = await res.json();\n\t\tconsole.log(body);\n\t\tdispatch(Actions.user.set(body));\n\t\thistory.push('/');\n\t};\n\n\tconst onChange = event => {\n\t\tconst { name, value } = event.target;\n\t\tsetForm({ ...form, [name]: value });\n\t};\n\n\n\n\tconst layout = {\n\t\tlabelCol: {\n\t\t\tspan: 8,\n\t\t},\n\t\twrapperCol: {\n\t\t\tspan: 16,\n\t\t},\n\t};\n\tconst tailLayout = {\n\t\twrapperCol: {\n\t\t\toffset: 8,\n\t\t\tspan: 16,\n\t\t},\n\t};\n\treturn (\n\t\t<Form onChange={onChange} onSubmit={onSubmit} {...layout}>\n\n      name=\"normal_login\"\n      className=\"login-form\"\n      initialValues={{ remember: true }}\n      onFinish={onFinish}\n    >\n      <Form.Item\n        name=\"username\"\n        rules={[{ required: true, message: 'Please input your Username!' }]}\n      >\n        <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Username\" />\n      </Form.Item>\n      <Form.Item\n        name=\"password\"\n        rules={[{ required: true, message: 'Please input your Password!' }]}\n      >\n        <Input\n          prefix={<LockOutlined className=\"site-form-item-icon\" />}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n      </Form.Item>\n      <Form.Item>\n        <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\n          <Checkbox>Remember me</Checkbox>\n        </Form.Item>\n\n        <a className=\"login-form-forgot\" href=\"\">\n          Forgot password\n        </a>\n      </Form.Item>\n\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n          Log in\n        </Button>\n        Or <a href=\"\">register now!</a>\n      </Form.Item>\n\t  </Form>\n\t);\n}\n\nexport default LoginPage;\n\n\n\n"]},"metadata":{},"sourceType":"module"}