{"ast":null,"code":"var _jsxFileName = \"/Users/ofirshlomo/Desktop/\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD/vacationProject/client/src/pages/LoginPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { Actions } from '../store';\nimport { Form, Input, Button, Checkbox } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LoginPage() {\n  _s();\n\n  const [form, setForm] = useState({}); // hook get store.dispatch method\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const onSubmit = async event => {\n    event.preventDefault();\n    const res = await fetch('/api/login', {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify(form)\n    });\n\n    if (!res.ok) {\n      //handle error\n      return;\n    }\n\n    const body = await res.json();\n    console.log(body);\n    dispatch(Actions.user.set(body));\n    history.push('/');\n  };\n\n  const onChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setForm({ ...form,\n      [name]: value\n    });\n  };\n\n  const layout = {\n    labelCol: {\n      span: 8\n    },\n    wrapperCol: {\n      span: 16\n    }\n  };\n  const tailLayout = {\n    wrapperCol: {\n      offset: 8,\n      span: 16\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onChange: onChange,\n    onSubmit: onSubmit,\n    ...layout,\n    children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"Username\",\n      name: \"username\",\n      rules: [{\n        required: true,\n        message: 'Please input your username!'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"Password\",\n      name: \"password\",\n      rules: [{\n        required: true,\n        message: 'Please input your password!'\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...tailLayout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 3\n  }, this);\n}\n\n_s(LoginPage, \"Fa5yLLcKBER4NOjDrsqD3oGdVs4=\", false, function () {\n  return [useDispatch, useHistory];\n});\n\n_c = LoginPage;\nexport default LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["/Users/ofirshlomo/Desktop/לימודים/vacationProject/client/src/pages/LoginPage.js"],"names":["useState","useDispatch","useHistory","Actions","Form","Input","Button","Checkbox","LoginPage","form","setForm","dispatch","history","onSubmit","event","preventDefault","res","fetch","headers","method","body","JSON","stringify","ok","json","console","log","user","set","push","onChange","name","value","target","layout","labelCol","span","wrapperCol","tailLayout","offset","required","message"],"mappings":"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","sourcesContent":["import { useState } from 'react';\n\nimport { useDispatch } from 'react-redux';\n\nimport { useHistory } from 'react-router-dom';\n\nimport { Actions } from '../store';\n\n\nimport { Form, Input, Button, Checkbox } from 'antd';\n\n\n\n\nfunction LoginPage() {\n\tconst [form, setForm] = useState({});\n\n\t// hook get store.dispatch method\n\tconst dispatch = useDispatch();\n\n\tconst history = useHistory();\n\n\tconst onSubmit = async event => {\n\t\tevent.preventDefault();\n\t\tconst res = await fetch('/api/login', {\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify(form),\n\t\t});\n\t\tif (!res.ok) {\n\t\t\t//handle error\n\t\t\treturn;\n\t\t}\n\t\tconst body = await res.json();\n\t\tconsole.log(body);\n\t\tdispatch(Actions.user.set(body));\n\t\thistory.push('/');\n\t};\n\n\tconst onChange = event => {\n\t\tconst { name, value } = event.target;\n\t\tsetForm({ ...form, [name]: value });\n\t};\n\n\n\n\tconst layout = {\n\t\tlabelCol: {\n\t\t\tspan: 8,\n\t\t},\n\t\twrapperCol: {\n\t\t\tspan: 16,\n\t\t},\n\t};\n\tconst tailLayout = {\n\t\twrapperCol: {\n\t\t\toffset: 8,\n\t\t\tspan: 16,\n\t\t},\n\t};\n\treturn (\n\t\t<Form onChange={onChange} onSubmit={onSubmit} {...layout}>\n\n\t\t\t<Form.Item\n\t\t\t\tlabel=\"Username\"\n\t\t\t\tname=\"username\"\n\t\t\t\trules={[\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: 'Please input your username!',\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Input />\n\t\t\t</Form.Item>\n\n\t\t\t<Form.Item\n\t\t\t\tlabel=\"Password\"\n\t\t\t\tname=\"password\"\n\t\t\t\trules={[\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: 'Please input your password!',\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Input.Password />\n\t\t\t</Form.Item >\n\t\t\t<Form.Item {...tailLayout}></Form.Item>\n\t\t\t<Button type=\"primary\" htmlType=\"submit\" >\n\t\t\t\tLogin\n\t</Button>\n\t\t</Form>\n\t);\n}\n\nexport default LoginPage;\n\n\n\n"]},"metadata":{},"sourceType":"module"}